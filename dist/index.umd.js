(function(a,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(a=typeof globalThis<"u"?globalThis:a||self,e(a.MyLib={},a.Vue))})(this,(function(a,e){"use strict";const B=["hover-class","disabled"],z={name:"SeeButton"},M=e.defineComponent({...z,props:{title:{default:""},size:{default:"normal"},type:{default:"info"},color:{default:""},textColor:{default:""},isRipple:{type:Boolean,default:!1},rippleTime:{default:500},maskTime:{default:1e3},isHollow:{type:Boolean,default:!1},rippleColor:{default:"rgba(0, 0, 0, .15)"},rippleStyle:{default:null},customStyle:{default:null},hoverClass:{default:""},border:{default:1},isDisabled:{type:Boolean,default:!1},radius:{default:4}},emits:["onTap"],setup(l,{emit:r}){let t=0;const o=e.getCurrentInstance(),n=l;t++;const s=e.ref(0),u=e.ref(0),c=e.ref(!1),p=e.ref({}),x="seeButton_"+t;let L=0;const j=e.ref([]),O=e.computed(()=>n.isRipple?"none":n.hoverClass?n.hoverClass:n.isHollow?`button-hover-${n.type}-hollow`:`button-hover-${n.type}`),w=f=>{c.value=!1,e.nextTick(()=>P(f))},P=f=>{A().then(i=>{if(!i?.height||(i.finalWidth=i.height>i.width?i.height:i.width,!i.finalWidth))return;p.value=i;let m,d;m=f.changedTouches[0].clientX,d=f.changedTouches[0].clientY,m=f.detail.clientX,d=f.detail.clientY,m=f.touches[0].clientX,d=f.touches[0].clientY,s.value=d-i.top-i.finalWidth/2,u.value=m-i.left-i.finalWidth/2,e.nextTick(()=>c.value=!0),j.value.push({id:L++,x:m-i.left-i.finalWidth/2,y:d-i.top-i.finalWidth/2,size:i.finalWidth})})},A=()=>new Promise(f=>{const i=uni.createSelectorQuery().in(o),m="#"+x;i.select(m).boundingClientRect(d=>{f(d)}).exec()});return(f,i)=>(e.openBlock(),e.createElementBlock("view",{id:x,style:e.normalizeStyle({...n.customStyle,borderRadius:n.radius+"px"}),class:e.normalizeClass(["see-button",[n.size]]),onClick:i[1]||(i[1]=m=>w(m))},[e.createElementVNode("view",{id:x,style:e.normalizeStyle({...n.customStyle,borderRadius:n.radius+"px"}),class:e.normalizeClass(["see-button",[n.size]]),onTouchstart:i[0]||(i[0]=m=>w(m))},[e.createElementVNode("button",{style:e.normalizeStyle({...n.customStyle,borderRadius:n.radius+"px",background:n.color}),class:e.normalizeClass(["see-botton-class",[n.size,n.isDisabled&&`disabled-${n.type}`,n.isHollow?`hollow-${n.type}`:n.type,`border-${n.type}-${n.border??1}`]]),"hover-class":O.value,disabled:n.isDisabled},[e.createElementVNode("text",{style:e.normalizeStyle({color:n.textColor}),class:"title"},e.toDisplayString(n.title),5),e.renderSlot(f.$slots,"default",{},void 0,!0)],14,B),n.isRipple?(e.openBlock(),e.createElementBlock("view",{key:0,class:e.normalizeClass(["see-button-ripple",{active:c.value}]),style:e.normalizeStyle({...n.rippleStyle,top:s.value+"px",left:u.value+"px",width:p.value.finalWidth+"px",height:p.value.finalWidth+"px","background-color":l.rippleColor,"--ripple-time":n.rippleTime+"ms","--mask-time":n.maskTime+"ms"})},null,6)):e.createCommentVNode("",!0)],38)],6))}}),C=(l,r)=>{const t=l.__vccOpts||l;for(const[o,n]of r)t[o]=n;return t},S=C(M,[["__scopeId","data-v-8ca01f32"]]),N={name:"SeeLink"},$=e.defineComponent({...N,props:{text:{default:""},type:{default:"info"},color:{default:""},href:{default:""},isLine:{type:Boolean,default:!1},lineColor:{default:""}},emits:["onClick"],setup(l,{emit:r}){const t=l,o=r,n=e.computed(()=>{const c=[];return t.color||c.push(t.type),t.isLine&&c.push("href"),c.join(" ")}),s=e.computed(()=>{const c={};return t.color&&(c.color=t.color),t.isLine&&t.lineColor&&(c.borderBottomColor=t.lineColor),c}),u=()=>{o("onClick"),(t.href??"")&&(plus.runtime.openURL(t.href),window.open(t.href),uni.setClipboardData({data:t.href,success:()=>{uni.hideToast(),e.nextTick(()=>{uni.showToast({title:"链接已复制，请在浏览器打开",icon:"none"})})}}))};return(c,p)=>(e.openBlock(),e.createElementBlock("text",{class:e.normalizeClass(n.value),style:e.normalizeStyle(s.value),onClick:u},e.toDisplayString(t.text),7))}}),h=C($,[["__scopeId","data-v-e96ac451"]]);function E(l){if(l==null)return null;if(l instanceof Date)return l;if(typeof l=="number")return new Date(l);if(typeof l=="string"){if(/^\d+$/.test(l))return new Date(parseInt(l));const r=l.replace(/-/g,"/");return new Date(r)}return null}function y(l,r="YYYY-MM-DD HH:mm:ss",t={placeholder:""}){const o=E(l);if(!o||isNaN(o.getTime()))return t.placeholder||"";const n={"M+":o.getMonth()+1,"D+":o.getDate(),"H+":o.getHours(),"h+":o.getHours()%12===0?12:o.getHours()%12,"m+":o.getMinutes(),"s+":o.getSeconds(),"q+":Math.floor((o.getMonth()+3)/3),"S+":o.getMilliseconds()};if(/(Y+|y+)/.test(r)&&(r=r.replace(RegExp.$1,(o.getFullYear()+"").substr(4-RegExp.$1.length))),/(W+)/.test(r)){const s=["日","一","二","三","四","五","六"];r=r.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"星期":"周":"")+s[o.getDay()])}for(const s in n)if(new RegExp("("+s+")").test(r)){const u=n[s].toString();s==="S+"?r=r.replace(RegExp.$1,("000"+u).slice(-3)):r=r.replace(RegExp.$1,RegExp.$1.length===1?u:("00"+u).substr((""+u).length))}return r}function D(l,r="YYYY-MM-DD HH:mm:ss",t={placeholder:""}){return e.computed(()=>y(e.unref(l),e.unref(r),t))}function R(l){return l?l instanceof Date?l:typeof l=="number"?new Date(l):typeof l=="string"?/^\d+$/.test(l)?new Date(parseInt(l)):new Date(l.replace(/-/g,"/")):null:null}function g(l){const r=R(l);if(!r)return"";const o=(Date.now()-r.getTime())/1e3;return o<0?"刚刚":o<60?Math.floor(o)+"秒前":o<3600?Math.floor(o/60)+"分钟前":o<3600*24?Math.floor(o/3600)+"小时前":o<3600*24*7?Math.floor(o/(3600*24))+"天前":o<3600*24*30?Math.floor(o/(3600*24*7))+"周前":o<3600*24*365?Math.floor(o/(3600*24*30))+"月前":Math.floor(o/(3600*24*365))+"年前"}function _(l,r=3e4){const t=e.ref(0);let o=null;const n=()=>{s(),o=setInterval(()=>{t.value++},r)},s=()=>{o&&(clearInterval(o),o=null)};return e.onMounted(()=>n()),e.onUnmounted(()=>s()),e.computed(()=>(t.value,g(e.unref(l))))}function Y(l,r){const t=l.toString(),o=t.indexOf(".");if(o===-1)return Number(t);const n=t.substring(0,o+1+r);return Number(n)}function k(l,r={}){const{decimals:t=2,symbol:o="",useGrouping:n=!0}=r,s=Number(l);if(Number.isNaN(s))return"";const u=Y(s,t),p=new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:t,maximumFractionDigits:t,useGrouping:n}).format(u);return o?`${o}${p}`:p}function T(l,r={}){const{placeholder:t="-"}=r;return e.computed(()=>{const o=e.toValue(l);if(o==null||o==="")return t;const n=k(o,r);return n===""?t:n})}const H={name:"SeeText"},I=e.defineComponent({...H,props:{text:{default:""},type:{default:"info"},mode:{default:"text"},color:{default:""},href:{default:""},phoneNumber:{default:""},date:{default:""},dateFormat:{default:"YYYY-MM-DD"}},emits:["onClick"],setup(l,{emit:r}){const t=l,o=r,n=e.computed(()=>t.color?"":t.type),s=e.computed(()=>({color:t.color})),u=()=>{o("onClick"),t.mode==="phone"&&(uni.makePhoneCall({phoneNumber:t.phoneNumber}),uni.showToast({title:"H5不支持，请使用小程序或APP点击",icon:"none"}))};return(c,p)=>(e.openBlock(),e.createElementBlock("view",{class:"see-text",onClick:u},[t.mode==="text"?(e.openBlock(),e.createElementBlock("text",{key:0,class:e.normalizeClass(n.value),style:e.normalizeStyle(s.value)},e.toDisplayString(t.text),7)):e.createCommentVNode("",!0),t.mode==="link"?(e.openBlock(),e.createBlock(h,{key:1,text:t.text,type:t.type,href:t.href},null,8,["text","type","href"])):e.createCommentVNode("",!0),t.mode==="phone"?(e.openBlock(),e.createElementBlock("text",{key:2,class:e.normalizeClass(n.value),style:e.normalizeStyle(s.value)},e.toDisplayString(t.text),7)):e.createCommentVNode("",!0),t.mode==="price"?(e.openBlock(),e.createElementBlock("text",{key:3,class:e.normalizeClass(n.value),style:e.normalizeStyle(s.value)},e.toDisplayString(e.unref(k)(t.text)),7)):e.createCommentVNode("",!0),t.mode==="date"?(e.openBlock(),e.createElementBlock("text",{key:4,class:e.normalizeClass(n.value),style:e.normalizeStyle(s.value)},e.toDisplayString(e.unref(y)(t.date,t.dateFormat)),7)):e.createCommentVNode("",!0),t.mode==="timeago"?(e.openBlock(),e.createElementBlock("text",{key:5,class:e.normalizeClass(n.value),style:e.normalizeStyle(s.value)},e.toDisplayString(e.unref(g)(t.date)),7)):e.createCommentVNode("",!0)]))}}),b=C(I,[["__scopeId","data-v-070997d1"]]),V=Object.freeze(Object.defineProperty({__proto__:null,formatCurrency:k,formatDate:y,formatTimeAgo:g,useCurrencyFormat:T,useDateFormat:D,useTimeAgo:_},Symbol.toStringTag,{value:"Module"})),W=[S,b,h],F=Object.assign({install:l=>{W.forEach(r=>{r.name&&l.component(r.name,r)})},SeeButton:S,SeeText:b,SeeLink:h},V);a.SeeButton=S,a.SeeLink=h,a.SeeText=b,a.default=F,a.formatCurrency=k,a.formatDate=y,a.formatTimeAgo=g,a.useCurrencyFormat=T,a.useDateFormat=D,a.useTimeAgo=_,Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}));
